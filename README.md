# Node.js 학습

## HTTP 요청 메서드

### 1. **GET**

- **용도**: 서버에서 데이터를 조회할 때 사용합니다.
- **특징**:
  - 서버에 저장된 **리소스를 요청**하고 해당 리소스를 **검색**하여 반환합니다.
  - 요청 데이터가 **URL에 포함**되기 때문에, **URL 길이에 제한**이 있습니다.
  - **브라우저 기록**에 남으며, **북마크** 기능을 통해 저장 가능합니다.
  - **캐시가 가능**하여 자주 요청하는 데이터를 빠르게 로드할 수 있습니다.
- **GET 요청의 제한 사항**:
  - **민감한 데이터 전송**에 적합하지 않습니다.
    URL에 포함되므로 비밀번호, 신용카드 번호와 같은 **개인정보**는 사용하지 않습니다.
  - 서버에서 **데이터를 수정**하는 작업에는 적합하지 않습니다.

### 2. **POST**

- **용도**: 서버에 데이터를 전송하여 새로운 리소스를 생성하거나 서버의 데이터를 수정할 때 사용합니다.
- **특징**:
  - 요청 데이터가 **요청 본문**(body)에 포함되기 때문에, URL에 포함되지 않습니다.
  - **민감한 데이터** 전송이 가능하여 회원가입, 로그인 등의 데이터 전송에 많이 사용됩니다.
  - **데이터 길이에 제한이 없으며** 대용량 데이터 전송에 적합합니다.
- **POST 요청의 제한 사항**:
  - **캐시되지 않으며**, 다시 요청할 경우 서버에서 데이터를 새로 가져옵니다.
  - **브라우저 기록에 남지 않으며**, 북마크로 저장할 수 없습니다.

---

### 3. **PUT**

- **용도**: 서버의 데이터를 **전체 수정**할 때 사용합니다.
- **특징**:
  - 요청에서 제공한 데이터로 기존 리소스의 **전체를 교체**합니다.
  - **전체 리소스의 모든 필드를 포함한 데이터**가 필요하며, 일부 필드만 전송할 수 없습니다.
- **예시**: 사용자의 프로필 정보를 업데이트할 때, 모든 필드를 포함하여 전송해야 합니다.

### 4. **PATCH**

- **용도**: 서버의 데이터 중 **일부를 수정**할 때 사용합니다.
- **특징**:
  - 요청에서 제공한 **일부 필드**만으로 리소스의 일부 데이터를 **부분적으로 교체**합니다.
  - 필요한 필드만 포함하여 전송 가능하여, 데이터 크기를 줄이고 효율적인 요청이 가능합니다.
- **예시**: 사용자의 프로필에서 특정 필드(예: 이메일)만 업데이트할 때 사용합니다.

---

### 요약

| 메서드    | 주요 용도             | 캐시 여부 | 브라우저 기록 | 전송 위치 | 데이터 전체 또는 부분 |
| --------- | --------------------- | --------- | ------------- | --------- | --------------------- |
| **GET**   | 데이터 조회           | O         | 기록됨        | URL       | N/A                   |
| **POST**  | 데이터 생성 또는 전송 | X         | 기록 안 됨    | 본문      | N/A                   |
| **PUT**   | 데이터 전체 교체      | X         | 기록 안 됨    | 본문      | 전체 필드 필요        |
| **PATCH** | 데이터 부분 교체      | X         | 기록 안 됨    | 본문      | 일부 필드 가능        |

## HTTP의 stateless 특징

HTTP는 _stateless_, 즉 무상태 프로토콜이라는 특징을 가지고 있습니다.

이 말은 HTTP가 클라이언트와 서버 간의 각각의 요청과 응답이 독립적으로 처리되며,

이전의 요청 상태나 정보를 기억하지 않는다는 의미입니다.

### HTTP의 Stateless 특징

1. **각 요청 독립성**: 클라이언트가 서버에 요청을 보낼 때마다 요청은 서로 독립적입니다. 서버는 이전 요청의 상태를 기억하지 않으며, 각 요청은 처음부터 끝까지 하나의 완전한 단위로 처리됩니다.
2. **서버 부하 감소**: HTTP가 Stateless하기 때문에 서버는 별도로 클라이언트 상태를 유지할 필요가 없습니다. 이는 여러 사용자의 요청이 있을 때 서버 자원을 절약하는 장점이 있습니다.
3. **확장성**: 상태를 유지하지 않기 때문에 서버의 확장이 쉽습니다. 서버 간에 특정 클라이언트 정보를 공유할 필요가 없으므로 여러 서버에 트래픽을 분산하기가 용이합니다.
4. **상태 유지 필요**: 그러나 웹 애플리케이션에서 상태 유지가 필요한 경우가 많습니다. 예를 들어 로그인 세션이나 장바구니 상태 등에서는 HTTP의 Stateless 특성을 보완하기 위해 쿠키, 세션, 또는 토큰을 이용해 상태 정보를 관리합니다.

### 상태 유지를 위한 기술들

- **쿠키(Cookies)**: 클라이언트에 데이터를 저장해두고 매 요청마다 서버에 이 정보를 보내면서 상태를 유지합니다.
- **세션(Session)**: 서버에 클라이언트의 상태를 저장하는 방식으로, 클라이언트는 세션 ID를 통해 자신의 상태를 참조할 수 있습니다.
- **JWT(Json Web Token)**: 클라이언트에 필요한 정보를 포함한 토큰을 저장하고 서버에 인증을 요청할 때 이를 사용하는 방식입니다.

이와 같은 보완 방식으로 웹 애플리케이션이 *stateless*한 HTTP 위에서도 상태를 유지할 수 있게 됩니다.

## HTTP 상태 코드 설명

| 범주                     | 상태 코드 | 상태 이름                       | 설명                                                                                 |
| ------------------------ | --------- | ------------------------------- | ------------------------------------------------------------------------------------ |
| **정보 코드**            | 100       | Continue                        | 서버가 요청 헤더를 수신했으며 클라이언트가 요청 본문을 보낼 수 있도록 함.            |
|                          | 101       | Switching Protocols             | 요청자가 프로토콜의 서버 전환을 요청함.                                              |
|                          | 103       | Checkpoint                      | 중단된 PUT 또는 POST 요청을 재개하기 위한 재개 가능한 요청 옵션을 표시함.            |
| **성공 코드**            | 200       | OK                              | 성공적인 HTTP 요청에 대한 표준 응답.                                                 |
|                          | 201       | Created                         | 요청이 성공적이었으며 새로운 리소스가 생성됨.                                        |
|                          | 202       | Accepted                        | 요청은 처리를 위해 수락되었지만 완료되지 않음.                                       |
|                          | 203       | Non-Authoritative Information   | 요청이 성공했지만 다른 소스에서 정보를 반환함.                                       |
|                          | 204       | No Content                      | 반환된 콘텐츠 없이 요청이 성공함.                                                    |
|                          | 205       | Reset Content                   | 요청은 반환된 콘텐츠 없이 성공했으며 요청자가 문서를 새로 고칠 것을 요구함.          |
|                          | 206       | Partial Content                 | 요청자가 보낸 범위 헤더로 인해 서버가 리소스의 일부만 반환함.                        |
| **리디렉션 코드**        | 300       | Multiple Choices                | 사용자가 링크를 선택하고 해당 위치로 이동할 수 있는 링크 목록을 표시함.              |
|                          | 301       | Moved Permanently               | 요청한 리소스의 URI가 변경되었음을 의미함. 새로운 URI가 응답에서 제공될 수 있음.     |
|                          | 302       | Found                           | 요청한 페이지가 일시적으로 새 URL로 이동됨.                                          |
|                          | 303       | See Other                       | 요청한 페이지는 다른 URL에서 찾을 수 있음.                                           |
|                          | 304       | Not Modified                    | 요청된 페이지는 마지막 요청 이후 수정되지 않음.                                      |
|                          | 307       | Temporary Redirect              | 요청한 페이지가 일시적으로 새 URL로 이동됨.                                          |
|                          | 308       | Resume Incomplete               | 중단된 PUT 또는 POST 요청을 재개하기 위한 재개 가능한 요청에 사용됨.                 |
| **클라이언트 오류 코드** | 400       | Bad Request                     | 잘못된 문법으로 인해 서버가 요청을 이해할 수 없음.                                   |
|                          | 401       | Unauthorized                    | 요청은 유효하지만 서버가 응답하지 않음. 일반적으로 실패한 인증에 사용됨.             |
|                          | 403       | Forbidden                       | 클라이언트가 콘텐츠에 접근할 권리를 가지고 있지 않음.                                |
|                          | 404       | Not Found                       | 요청한 페이지를 서버에서 찾을 수 없음.                                               |
|                          | 405       | Method Not Allowed              | 요청한 메서드가 페이지에서 지원되지 않음.                                            |
|                          | 406       | Not Acceptable                  | 서버가 클라이언트가 수락하지 않은 응답을 생성함.                                     |
|                          | 407       | Proxy Authentication Required   | 클라이언트는 요청하기 전에 프록시로 인증해야 함.                                     |
|                          | 408       | Request Timeout                 | 서버가 요청을 기다리는 시간이 초과됨.                                                |
|                          | 409       | Conflict                        | 요청이 현재 서버의 상태와 충돌될 때 보냄.                                            |
|                          | 410       | Gone                            | 요청한 페이지를 더 이상 사용할 수 없음.                                              |
|                          | 411       | Length Required                 | "Content-Length"가 정의되지 않았음. 서버는 그것 없이는 요청을 수락하지 않음.         |
|                          | 412       | Precondition Failed             | 서버에서 요청 전제 조건 결과가 거짓.                                                 |
|                          | 413       | Request Entity Too Large        | 요청 엔터티가 너무 커서 서버가 요청을 수락하지 않음.                                 |
|                          | 414       | Request-URI Too Long            | URI가 너무 길어 서버가 요청을 수락하지 않음.                                         |
|                          | 415       | Unsupported Media Type          | 지원되지 않는 미디어 유형으로 인해 서버가 요청을 수락하지 않음.                      |
|                          | 416       | Requested Range Not Satisfiable | 요청자가 서버에서 제공할 수 없는 파일의 일부를 요청함.                               |
|                          | 417       | Expectation Failed              | 서버가 예상 요청 헤더 필드의 요구 사항을 충족할 수 없음.                             |
| **서버 오류 코드**       | 500       | Internal Server Error           | 특정 오류 메시지를 사용할 수 없을 때 표시되는 일반 오류 메시지.                      |
|                          | 501       | Not Implemented                 | 서버가 요청 방법을 인식하지 못하거나 요청을 완료할 수 없음.                          |
|                          | 502       | Bad Gateway                     | 서버가 게이트웨이 또는 프록시 역할을 하고 업스트림 서버에서 잘못된 응답을 받음.      |
|                          | 503       | Service Unavailable             | 서버가 요청을 처리할 준비가 되지 않음. 일반적인 원인은 유지보수 또는 과부하임.       |
|                          | 504       | Gateway Timeout                 | 서버가 게이트웨이 또는 프록시 역할을 하고 업스트림 서버에서 적시에 응답을 받지 못함. |
|                          | 505       | HTTP Version Not Supported      | 서버가 요청에 사용된 HTTP 프로토콜 버전을 지원하지 않음.                             |
|                          | 511       | Network Authentication Required | 클라이언트는 네트워크 액세스를 얻기 위해 인증해야 함.                                |
